CMAKE_MINIMUM_REQUIRED(VERSION 3.0)
                                             
project(lz4)

SET(PROJECT_SOURCE_DIRECTORY ${HUMMINGBIRD_DEPENDENCIES_SOURCE_DIRECTORY}/lz4)

# OUR SOURCES
set(PROJECT_SOURCES
    ${PROJECT_SOURCE_DIRECTORY}/lib/lz4.c
    ${PROJECT_SOURCE_DIRECTORY}/lib/lz4hc.c
)

if(WIN32)
    ADD_DEFINITIONS(-DLZ4HC_HEAPMODE=0)
    ADD_DEFINITIONS(-DLZ4_FORCE_MEMORY_ACCESS=2)
endif()

include_directories(${SOURCE_DIR}/lib)

add_library(${PROJECT_NAME} STATIC ${PROJECT_SOURCES})
